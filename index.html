<!DOCTYPE html>
<html>

<!-- 
Understand -
     Create a rock paper scissors game that plays to 5 rounds and exits. It will keep score throughout and give winner at the end. where computer has random selection, and user inputs an answer.
Plan - 
     get prompt from user for choice, use console.log() to display results -->

 
    <script>

 // Algorithim 

    // name list with choices. Declare computerSelection as function computerPlay, 
      const CHOICES = ["rock","paper","scissors"];

    // set variable for the players score = 0
        let playerScore = 0

    // set variable for the players score = 0
        let computerScore = 0


  // write a function taking parameters playerSelection and computerSelection then declares winner with a string
  // write conditionals for choices of playerSelection vs computerSelection
  // if  a player win condition, then alert a +1 increase in the playerScore and vice versa for computer

    function playRound (){

   
        
    // declare playerSelection equal to user choice with prompt. Must be within function so it prompts every round and not just at beginning

        const playerSelection = prompt ('what will you choose?');


    // declare randomChoice variable so we can return it in function computerPlay
        const randomChoice = CHOICES[Math.floor(Math.random()* CHOICES.length)];

    // create function called computerPlay that will return rock paper or scissors randomly
         function computerPlay(){
            return randomChoice;
        }    

    // declare variable computerSelection equal to function computerPlay. Must be within function so that it refreshes its choice every iteration

        const computerSelection = computerPlay();


    // if user ties game, or if user cancels game, and if user inputs something that is not an option

        if (playerSelection == computerSelection){
            alert('Tie game!');
        }
        else if (playerSelection == null){
            return False
        }
        else if (playerSelection.toLowerCase() != 'rock' && playerSelection.toLowerCase() != 'scissors' && playerSelection.toLowerCase() != 'paper'){
            alert ('Pick rock, paper, or scissors!');
            return False
        }

            // conditionals if players selects rock
                if (playerSelection.toLowerCase() == 'rock'){
                    if (computerSelection == 'scissors'){
                        alert ("You win! Rock beats Scissors!")
                        alert ("+" + ++playerScore);
                    }

                    else if (computerSelection == "paper"){
                        alert ("You lost! Paper beats rock!");
                        ++computerScore;
                    }
                }
            // conditionals if players selects paper

                if (playerSelection.toLowerCase() == 'paper'){
                    if (computerSelection == 'rock'){
                        alert ("You win! Paper covers rock!")
                        return ("+" + ++playerScore);
                    }

                    else if (computerSelection == "scissors"){
                        alert ("You lost! Scissors cuts paper!")
                        ++computerScore;
                    }
                }
            // conditionals if players selects scissors

                if (playerSelection.toLowerCase() == 'scissors'){
                    if (computerSelection == 'paper'){
                        alert ("You win! Scissors cuts paper nice!")
                        alert ("+" + ++playerScore);
                    }

                    else if (computerSelection == "rock"){
                        alert ("You lost! Rock destroys scissors!")
                        ++computerScore;
                    }
                  } 

            // keeps score reporting winner at the end

                 alert ("Player Score =  " + playerScore +   "    ||   Computer Score =  " + computerScore);
             
             }

        
     // write new function called game() that uses previous function (playRound) inside parameter and loops it for 5 rounds  
               
        function game(){ 

            alert(playRound())
            alert(playRound())
            alert(playRound())
            alert(playRound())
            alert(playRound())

            alert ("Player Score =  " + playerScore +   "    ||   Computer Score =  " + computerScore);

                if (playerScore > computerScore){
                alert (' You beat the machine! Fantastic job!')
                }
                else if (playerScore == computerScore){
                 alert('Stalemate!')
                }
                else {
                alert ('Oh no, the machines are taking over!')
                }
        }
           
            console.log(game())

       
    </script>
</html>